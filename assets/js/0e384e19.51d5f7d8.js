"use strict";(self.webpackChunkgridplus_sdk_docs=self.webpackChunkgridplus_sdk_docs||[]).push([[976],{619:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>d,toc:()=>o});var s=t(4848),i=t(8453);const a={id:"index",title:"\ud83d\udc4b Getting Started",slug:"/",sidebar_position:0,custom_edit_url:null},r="GridPlus SDK",d={id:"index",title:"\ud83d\udc4b Getting Started",description:"The GridPlus SDK is the bridge between software wallets, like MetaMask or Frame, and the Lattice1 hardware wallet.",source:"@site/docs/intro.md",sourceDirName:".",slug:"/",permalink:"/gridplus-sdk/",draft:!1,unlisted:!1,editUrl:null,tags:[],version:"current",sidebarPosition:0,frontMatter:{id:"index",title:"\ud83d\udc4b Getting Started",slug:"/",sidebar_position:0,custom_edit_url:null},sidebar:"sidebar",next:{title:"\ud83d\udd11 Addresses and Public Keys",permalink:"/gridplus-sdk/addresses"}},c={},o=[{value:"Getting Started",id:"getting-started",level:2},{value:"Installation",id:"installation",level:3},{value:"Connecting to a Lattice",id:"connecting-to-a-lattice",level:3},{value:"Setup Example",id:"setup-example",level:4},{value:"Pairing",id:"pairing",level:3},{value:"Pairing Example",id:"pairing-example",level:4},{value:"Fetching Addresses",id:"fetching-addresses",level:3},{value:"Fetch Addresses Example",id:"fetch-addresses-example",level:4},{value:"Signing Transactions",id:"signing-transactions",level:3},{value:"Signing Example",id:"signing-example",level:4}];function l(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"gridplus-sdk",children:"GridPlus SDK"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.a,{href:"https://github.com/GridPlus/gridplus-sdk",children:"GridPlus SDK"})," is the bridge between software wallets, like MetaMask or Frame, and the ",(0,s.jsx)(n.a,{href:"https://gridplus.io/lattice",children:"Lattice1 hardware wallet"}),"."]}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.a,{href:"https://gridplus.io/lattice",children:"Lattice1"})," is an Internet-connected device which listens for end-to-end encrypted requests. HTTPS requests originate from this SDK and responses are returned ",(0,s.jsx)(n.strong,{children:"asynchronously"}),". Some requests require user authorization and will time out if the user does not approve them."]})}),"\n",(0,s.jsx)(n.h2,{id:"getting-started",children:"Getting Started"}),"\n",(0,s.jsx)(n.h3,{id:"installation",children:"Installation"}),"\n",(0,s.jsx)(n.p,{children:"Install the package with your package manager. For example, with npm:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"npm install --save gridplus-sdk\n"})}),"\n",(0,s.jsx)(n.h3,{id:"connecting-to-a-lattice",children:"Connecting to a Lattice"}),"\n",(0,s.jsxs)(n.p,{children:["To initiate the connection, you'll call ",(0,s.jsx)(n.code,{children:"setup"}),". This function takes an object with the following properties:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"name"})," - the name of the wallet or app you're connecting from, e.g. ",(0,s.jsx)(n.code,{children:"MetaMask"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"deviceId"})," - the device ID of the Lattice you're connecting to"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"password"})," - an arbitrary string that is used to encrypt/decrypt data for transport"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"getStoredClient"})," - a function that returns the stored client data"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"setStoredClient"})," - a function that stores the client data"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"setup-example",children:"Setup Example"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"setup()"})," will return a ",(0,s.jsx)(n.code,{children:"boolean"})," that tells you whether the device has already been paired. If it has not, you will need to pair the device by calling ",(0,s.jsx)(n.code,{children:"pair()"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"import { setup } from 'gridplus-sdk';\n\nconst isPaired = await setup({\n  name: 'My Wallet',\n  deviceId: 'XXXXXX',\n  password: 'password',\n  getStoredClient: () => localStorage.getItem('client'),\n  setStoredClient: (client) => localStorage.setItem('client', client),\n});\n"})}),"\n",(0,s.jsx)(n.h3,{id:"pairing",children:"Pairing"}),"\n",(0,s.jsxs)(n.p,{children:["To pair the device with your application, you'll call ",(0,s.jsx)(n.code,{children:"pair"})," with the pairing code displayed on the Lattice screen. This code is a 6-digit number that is displayed on the Lattice screen when you attempt to connect to it."]}),"\n",(0,s.jsx)(n.h4,{id:"pairing-example",children:"Pairing Example"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"pair()"})," also returns a ",(0,s.jsx)(n.code,{children:"boolean"})," that tells you whether the pairing was successful."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"import { pair } from 'gridplus-sdk';\n\nconst isPaired = await pair('123456');\n"})}),"\n",(0,s.jsx)(n.h3,{id:"fetching-addresses",children:"Fetching Addresses"}),"\n",(0,s.jsxs)(n.p,{children:["Once you're connected to the Lattice, you can fetch addresses from it. This is done by calling ",(0,s.jsx)(n.code,{children:"fetchAddresses()"}),"."]}),"\n",(0,s.jsx)(n.h4,{id:"fetch-addresses-example",children:"Fetch Addresses Example"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"fetchAddresses()"})," returns an array of addresses."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"import { fetchAddresses } from 'gridplus-sdk';\n\nconst addresses = await fetchAddresses();\n"})}),"\n",(0,s.jsxs)(n.p,{children:["By default, this function returns the first 10 addresses at the standard EVM derivation path. You can specify the number of addresses you want to fetch by passing a number as an argument to ",(0,s.jsx)(n.code,{children:"fetchAddresses()"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"const addresses = await fetchAddresses(5);\n"})}),"\n",(0,s.jsxs)(n.p,{children:["If you're working with another blockchain, you can specify the derivation path by passing an object as an argument to ",(0,s.jsx)(n.code,{children:"fetchAddresses()"})," that has the key of ",(0,s.jsx)(n.code,{children:"startPath"})," which is an array that represents the derivation path."]}),"\n",(0,s.jsxs)(n.admonition,{type:"note",children:[(0,s.jsx)(n.p,{children:"The derivation path is an array of integers that represents the path to the address you want to fetch. The first element of the array is the purpose, the second is the coin type, the third is the account index, the fourth is the change index, and the fifth is the address index."}),(0,s.jsxs)(n.p,{children:['Also, some values will need to be "hardened" by adding 0x80000000 to them. For example, the purpose for Ethereum is ',(0,s.jsx)(n.code,{children:"44"}),", so the hardened value would be ",(0,s.jsx)(n.code,{children:"44 + 0x80000000 = 2147483692"}),". This library exports a constant of ",(0,s.jsx)(n.code,{children:"HARDENED_OFFSET"})," which is ",(0,s.jsx)(n.code,{children:"0x80000000"})," for your convenience."]})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"// default EVM\nconst addresses = await fetchAddresses({\n  startPath: [\n    HARDENED_OFFSET + 44,\n    HARDENED_OFFSET + 60,\n    HARDENED_OFFSET,\n    0,\n    0,\n  ],\n});\n\n// Legacy BTC\nconst addresses = await fetchAddresses({\n  startPath: [HARDENED_OFFSET + 44, HARDENED_OFFSET + 0, HARDENED_OFFSET, 0, 0],\n});\n\n// Segwit BTC\nconst addresses = await fetchAddresses({\n  startPath: [HARDENED_OFFSET + 84, HARDENED_OFFSET, HARDENED_OFFSET, 0, 0],\n});\n"})}),"\n",(0,s.jsx)(n.p,{children:"The library also exports convenience functions for fetching addresses for specific derivation paths:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"import {\n  fetchBtcLegacyAddresses,\n  fetchBtcSegwitAddresses,\n  fetchBtcWrappedSegwitAddresses,\n  fetchSolanaAddresses,\n} from 'gridplus-sdk';\n\nconst btcLegacyAddresses = await fetchBtcLegacyAddresses();\nconst btcSegwitAddresses = await fetchBtcSegwitAddresses();\nconst btcWrappedSegwitAddresses = await fetchBtcWrappedSegwitAddresses();\nconst solanaAddresses = await fetchSolanaAddresses();\n"})}),"\n",(0,s.jsx)(n.h3,{id:"signing-transactions",children:"Signing Transactions"}),"\n",(0,s.jsxs)(n.p,{children:["To sign a transaction, you'll call ",(0,s.jsx)(n.code,{children:"sign"})," with the transaction data with the chain information and signing scheme. This function returns the signed transaction data."]}),"\n",(0,s.jsx)(n.h4,{id:"signing-example",children:"Signing Example"}),"\n",(0,s.jsxs)(n.p,{children:["For an Ethereum transaction, sing the ",(0,s.jsx)(n.code,{children:"ethers.js"})," library, version 5, to build the transaction data and sign with the ",(0,s.jsx)(n.code,{children:"gridplus-sdk"})," would look like this:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"import { sign } from 'gridplus-sdk';\n\nconst txData = {\n  type: 1,\n  maxFeePerGas: 1200000000,\n  maxPriorityFeePerGas: 1200000000,\n  nonce: 0,\n  gasLimit: 50000,\n  to: '0xe242e54155b1abc71fc118065270cecaaf8b7768',\n  value: 1000000000000,\n  data: '0x17e914679b7e160613be4f8c2d3203d236286d74eb9192f6d6f71b9118a42bb033ccd8e8',\n  gasPrice: 1200000000,\n};\n\nconst common = new Common({\n  chain: Chain.Mainnet,\n  hardfork: Hardfork.London,\n});\nconst tx = TransactionFactory.fromTxData(txData, { common });\nconst payload = tx.getMessageToSign(false);\n\nconst signedTx = await sign(reqData);\n"})}),"\n",(0,s.jsxs)(n.p,{children:["For more complex signing examples or signing for other chains, please refer to the ",(0,s.jsx)(n.a,{href:"/gridplus-sdk/signing",children:"Signing"})," page."]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>d});var s=t(6540);const i={},a=s.createContext(i);function r(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);